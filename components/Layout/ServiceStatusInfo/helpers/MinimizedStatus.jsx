/* eslint-disable react/prop-types */
import React from 'react';
import { isUndefined } from 'lodash';
import { COLOR } from '@autonolas/frontend-library';
import { StickyContainer } from '../styles';

export const MinimizedStatus = ({
  isOperational,
  timerCountdown,
  onMaximize,
}) => {
  const showStatus = !isUndefined(isOperational);

  return (
    <StickyContainer className="serive-status-minimized">
      <svg
        width="109"
        height="50"
        viewBox="0 0 109 50"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <rect
          x="6"
          y="10"
          width="32"
          height="32"
          style={{
            fillOpacity: 0,
            strokeOpacity: 0,
            cursor: 'pointer',
            pointerEvents: 'all',
          }}
          onClick={() => window.open('https://autonolas.network')}
        />
        {showStatus && (
          <rect x="38" y="10" width="30" height="30" fill="#D9D9D9" />
        )}
        <rect
          width={108 - (showStatus ? 0 : 30)}
          height="50"
          rx="11.1872"
          fill="black"
        />
        <rect
          x={66 - (showStatus ? 0 : 30)}
          y="8"
          width="34"
          height="34"
          style={{
            fillOpacity: 0,
            strokeOpacity: 0,
            cursor: 'pointer',
            pointerEvents: 'all',
          }}
          onClick={onMaximize}
        />
        <path
          d="M95.1813 12.5026L88.4619 13.3372C88.2275 13.3656 88.1316 13.6497 88.295 13.8167L90.2376 15.7593L84.7861 21.2109C84.7332 21.2643 84.7036 21.3364 84.7036 21.4115C84.7036 21.4867 84.7332 21.5588 84.7861 21.6122L86.3878 23.2139C86.4979 23.324 86.679 23.324 86.7891 23.2139L92.2442 17.7588L94.1869 19.7015C94.2244 19.7389 94.2717 19.7651 94.3233 19.7769C94.375 19.7887 94.4289 19.7858 94.479 19.7683C94.529 19.7509 94.5731 19.7197 94.6063 19.6784C94.6394 19.637 94.6602 19.5872 94.6663 19.5346L95.4974 12.8187C95.5033 12.7758 95.4992 12.7321 95.4853 12.6911C95.4715 12.6501 95.4484 12.6128 95.4178 12.5822C95.3872 12.5516 95.3499 12.5285 95.3089 12.5146C95.2679 12.5008 95.2242 12.4967 95.1813 12.5026ZM79.6116 26.7867C79.5582 26.7338 79.4861 26.7042 79.4109 26.7042C79.3358 26.7042 79.2636 26.7338 79.2103 26.7867L73.7587 32.2418L71.816 30.2991C71.7786 30.2617 71.7313 30.2355 71.6796 30.2237C71.628 30.2119 71.574 30.2148 71.524 30.2323C71.4739 30.2497 71.4298 30.2809 71.3967 30.3222C71.3635 30.3636 71.3427 30.4134 71.3366 30.4661L70.502 37.1819C70.4807 37.3666 70.6334 37.5193 70.8181 37.498L77.5375 36.6634C77.7719 36.635 77.8678 36.3509 77.7044 36.184L75.7618 34.2413L81.2168 28.7862C81.3269 28.6761 81.3269 28.495 81.2168 28.3849L79.6116 26.7867Z"
          fill="#F2F2F2"
          style={{
            cursor: 'pointer',
            pointerEvents: 'all',
            transform: showStatus
              ? 'translate(0px, 0px)'
              : 'translate(-24px, 0px)',
          }}
        />
        {showStatus && (
          <>
            <circle
              cx="53.1667"
              cy="25.1667"
              r="4"
              fill={isOperational ? COLOR.GREEN_2 : COLOR.ORANGE}
            />
            <div style={{ height: 0, width: 0, visibility: 'hidden' }}>
              {timerCountdown}
            </div>
          </>
        )}

        <path
          d="M36.1689 17.286H36.6906L37.7406 19.3865V30.3962L36.6906 32.4968H36.1689V28.8245L36.6906 28.303V23.5804L36.1689 23.0588V17.286Z"
          fill="white"
        />
        <path
          d="M8.90498 32.4968H8.3835L7.33325 30.3962V19.3865L8.3835 17.286H8.90498V20.9583L8.3835 21.4798V26.2024L8.90498 26.7312V32.4968Z"
          fill="white"
        />
        <path
          d="M9.18774 16.8513L8.90527 16.4095L10.1293 14.4031L19.4659 8.5579L21.7982 8.33331L22.0734 8.77518L18.9661 10.7236L18.2418 10.5642L14.2435 13.0631L14.0769 13.7874L9.18774 16.8513Z"
          fill="white"
        />
        <path
          d="M35.8857 16.8513L36.1684 16.4095L34.9442 14.4031L25.6077 8.5579L23.2753 8.33331L23 8.77518L26.1074 10.7236L26.8317 10.5642L30.83 13.0631L30.9966 13.7874L35.8857 16.8513Z"
          fill="white"
        />
        <path
          d="M35.8857 33.1486L36.1684 33.5904L34.9442 35.5967L25.6077 41.442L23.2753 41.6666L23 41.2248L26.1074 39.2764L26.8317 39.443L30.83 36.9367L30.9966 36.2124L35.8857 33.1486Z"
          fill="white"
        />
        <path
          d="M9.18774 33.1486L8.90527 33.5904L10.1293 35.5967L19.4659 41.442L21.7982 41.6666L22.0734 41.2248L18.9661 39.2764L18.2418 39.443L14.2435 36.9367L14.0769 36.2124L9.18774 33.1486Z"
          fill="white"
        />
        <path
          d="M15.156 21.1321H20.0452L21.023 20.1542H25.2603L25.9121 20.8062H29.1716L30.1495 21.784H26.5641L25.9121 22.4359H22.0008L21.6749 22.11H16.4598L16.1338 22.4359H15.156L14.5042 21.784L15.156 21.1321Z"
          fill="white"
        />
        <path
          d="M15.0762 24.5581H19.1179C19.1324 24.5581 19.147 24.5509 19.1614 24.5436L19.9147 23.7614C19.922 23.7469 19.9437 23.7469 19.9581 23.7469H25.731C25.7454 23.7469 25.76 23.7541 25.7744 23.7614L26.7668 24.7826C26.7741 24.7971 26.7957 24.7971 26.8102 24.7971H30.1132C30.1421 24.7971 30.1711 24.8262 30.1711 24.8551V25.8039C30.1711 25.833 30.1493 25.8619 30.1132 25.8619H26.1076C26.0932 25.8619 26.0787 25.8692 26.0642 25.8764L25.7817 26.1661C25.7744 26.1806 25.7528 26.1806 25.7382 26.1806H21.3706C21.3633 26.1806 21.3489 26.1806 21.3416 26.1734L20.7404 25.8619C20.7332 25.8547 20.7259 25.8547 20.7115 25.8547H15.0907C15.0762 25.8547 15.0617 25.8474 15.0473 25.8402L14.475 25.2462C14.4533 25.2245 14.4533 25.1883 14.475 25.1738L15.0473 24.5799C15.0473 24.5654 15.0617 24.5581 15.0762 24.5581Z"
          fill="white"
        />
        <path
          d="M23.5801 27.9769H30.1497V29.2807H28.2737L27.955 29.6066H26.3905L26.079 29.2807H23.8916L23.5801 28.9548V27.9769Z"
          fill="white"
        />
        <path
          d="M21.0303 27.9263H18.6545L18.3575 27.651H16.2859L15.989 27.9263H14.5042V29.2807H21.6242V28.1942L21.0303 27.9263Z"
          fill="white"
        />
      </svg>
    </StickyContainer>
  );
};
